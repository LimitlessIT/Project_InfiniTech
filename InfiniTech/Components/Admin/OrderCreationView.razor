@inject ApplicationDbContext _context
@inject IProductRepository Productrepo 
<h3>Create A New Order</h3>

<EditForm Model="@OrderModel" OnValidSubmit="@OnValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="bg-white p-3">
        <h2>Buyer Details</h2>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10">
                <input type="email" @bind-value="OrderModel.BuyerDetails.Email" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Full Name</label>
            <div class="col-sm-10">
                <input type="text" @bind-value="OrderModel.BuyerDetails.ClientName" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Shipping Address</label>
            <div class="col-sm-10">
                <input type="text" @bind-value="OrderModel.ShippingAddress" class="form-control">
            </div>
        </div>
    </div>
    <div class="my-3 p-3 bg-white">
        <h2>Payment Details</h2>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Payment Method</label>
            <div class="col-sm-10">
                <input type="email" @bind-value="OrderModel.BuyerDetails.Email" class="form-control">
            </div>
        </div>        
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Payment Method</label>
            <div class="col-sm-10">
                <input type="file" @bind-value="OrderModel.BuyerDetails.PaymentEvidence" class="form-control">
            </div>
        </div>
    </div>

</EditForm>

@code {
    public Order OrderModel { get; set; } = new Order { BuyerDetails = new(), OrderedProducts = new() };
    public List<Product> OrderedProducts { get; set; }
    public void OnValidSubmit()
    {

    }
}
